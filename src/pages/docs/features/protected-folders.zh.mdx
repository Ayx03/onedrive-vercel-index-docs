import Callout from 'nextra-theme-docs/callout'
import Video from '../../../components/video'

# 私密文件夹

<Video src="/videos/password-demo.mp4" ratio={1246 / 2246} />

## 使用密码保护您的文件夹

您可以创建一个需要密码才能访问的文件夹。

### 步骤

- 您需要在 `config/site.json` 的 `protectedRoutes` 处添加要保护的文件夹。
- 在要保护的文件夹下创建一个名为  `.password` 的 **空白文件** 。
- 使用任意文本编辑器打开这个 `.password` 文件，并在里面填写该文件夹的访问密码。
- 最后，在 Vercel 中重新部署该项目。

### 设置私密文件夹

以下是设置私密文件夹的详细步骤：

假设您有这样一个文件结构：

```
.
├── 📕 Books
│   └── ...
├── 🌞 Private folder
│   ├── this-is-public
│   └── u-need-a-password   <-- 私密文件夹
├── 🍡 Genshin PV
│   └── ...
└── README.md
```

我们想要将 `/u-need-a-password` 设为私密文件夹，就把它的绝对路径按下列格式填写到 `protectedRoutes` 里：

```json
"protectedRoutes": [
  "/🌞 Private folder/u-need-a-password",
],
```

如果您想设置另一个私密文件夹，那就在下一行按下列格式添加它的绝对路径：

```json
"protectedRoutes": [
  "/🌞 Private folder/u-need-a-password",
   "/another/route/for/me/to/protect",
],
```

如果您没有任何私密文件夹，那么就添加一个 `[]` 以关闭此功能：

```json
"protectedRoutes": [],
```

您也许在想要不要加密填写在 `.password` 文件里的访问密码，不需要。该文件内的内容就是您访问该文件夹时需要的密码。

![What to write inside .password](../_images/features/dot-password-file.png)

### 注意事项

任何事物都有它的双面刃：

1. 私密文件夹内的任何文件与文件夹都无法通过直链访问（以 `?raw=true` 结尾的直链，详情请参考 [托管文件与图片](./hosting-images-directly.zh) 。）。
2. 我个人无法保证此保护功能完全安全。所以我不推荐使用此方式存放您的个人隐私信息，这只是个分享的可选项。

<Callout emoji="🗣">
  详情请参考 [Password protected routes is now supported #66](https://github.com/spencerwooo/onedrive-vercel-index/discussions/66) 。
</Callout>
